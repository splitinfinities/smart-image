:host {
	display: inline-block;
	width: 100%;
	max-width: var(--width, 300px);
	max-height: var(--height, 300px);
	background: var(--bg, transparent);

	figure {
		display: block;
		position: relative;
		width: 100%;
		height: 100%;
		margin: 0;
		padding-bottom: var(--aspect_ratio, 100%);
	}

	&[block] {
		display: block;
	}

	picture,
	img.placeholder {
		transition: opacity .85s cubic-bezier(.2, .3, .25, .9) 1s;
		position: absolute;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: hidden;
	}

	picture {
		opacity: 0;
		z-index: 2;

		img.final_image {
			display: block;
			width: 100%;
			height: 100%;
		}
	}

	img.placeholder {
		opacity: 1;
		background: var(--bg, transparent);
		pointer-events: none;
		top: 0;
		left: 0;
		z-index: 1;
		overflow: hidden;

		image-rendering: -moz-crisp-edges;
		image-rendering: -o-crisp-edges;
		image-rendering: -webkit-optimize-contrast;
		image-rendering: crisp-edges;
		-ms-interpolation-mode: nearest-neighbor;
	}


	figure.loaded picture {
		opacity: 1;
	}
}
